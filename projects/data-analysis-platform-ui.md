# 데이터 분석 플랫폼 UI 개발

## 어플리케이션 개요

- 데이터 분석 프로세스를 플로우 차트 방식으로 시각화
- 드래그 앤 드롭 방식의 GUI 기반으로 워크플로우 작성
- 파이썬, R 스크립트를 워크플로우의 기본 실행 단위(라이브러리)로 등록
- 구성한 워크플로우를 실행하고 실시간으로 결과를 확인

## 기간

- 2018.03 ~ 진행중

## 프로젝트 종류

- 사내 프로젝트
- Brique

## 사용 기술

- HTML
- SVG
- CSS
- JavaScript
- [React.js](https://github.com/facebook/react/)
- [Redux](https://github.com/reduxjs/redux)
- [Redux-Saga](https://github.com/redux-saga/redux-saga)
- [RxJS](https://github.com/ReactiveX/rxjs)
- [styled-components](https://github.com/styled-components/styled-components)
- [antd](https://github.com/ant-design/ant-design/)

## 주요 업무

- 어플리케이션 전체에서 사용하는 Redux 스토어 설계 및 구현
- Redux Saga를 기반으로 서버 API 호출과 같은 비동기 작업을 수행하는 프로세스 설계 및 구현
  - `요청->검증->로딩상태 전환->비동기 작업->결과 처리->로딩상태 전환 및 에러 처리` 의 과정
  - 비동기 작업중인 항목에 대해서만 부분적으로 로딩 상태로 전환
  - 에러가 발생한 항목에 대해서만 부분적으로 오류 상태로 전환 및 복구 기능을 UI로 제공
- 로그 레벨을 설정할 수 있는 로거(logger) 모듈 구현
- SVG 기술을 기반으로 워크플로우를 플로우 차트로 표현하고 편집할 수 있는 UI 개발
  - SVG의 viewBox 속성을 활용한 줌, 패닝 기능 구현
  - 커브를 그리는 곡선의 경로 계산 및 출력 기능 구현
- 워크플로우 실행 결과를 전달받는 웹소켓 클라이언트 객체 작성
  - 워크플로우 실행 및 실시간 결과 상태 업데이트 로직 구현
  - 많은 메세지를 한번에 응답받은 경우 큐(Queue)를 사용하여 처리
- Help, 리소스 파일 업로드, 다운로드 기능 구현

## 배운 점

- Redux-Saga를 기반으로 한 비동기 작업 처리 방법
- 비동기 작업의 처리 과정을 효과적으로 노출시키는 UX
- SVG 태그를 다루는 방법
- SVG 의 viewBox 시스템의 원리와 사용법
- SVG path 태그의 d 경로 계산 방법 (베지어 곡선)
- 웹소켓 클라이언트 API 사용법

## 문제점 및 개선 방법

### 문제점 1

어플리케이션에서 다루는 데이터의 양과 종류가 많이지면서 Redux 스토어의 상태가 복잡해지는 문제가 발생

#### 원인

- 앱에서 다루는 모든 정보를 Redux 스토어에서 관리하기 때문
- 비동기 로직을 모두 Redux-Saga에서 담당하기 때문에 모든 비동기 처리 관련 정보가 Redux에서 관리됨

#### 개선 방법

- 각 컴포넌트가 자신이 다루는 데이터를 책임지고 관리하도록 설계를 변경
- 다른 컴포넌트를 변경해야 하는 경우 이벤트 스트림을 통해 느슨하게 연결
- 각 컴포넌트에서 필요한 비동기 작업을 직접 호출하고 비동기 작업의 진행 상태 또한 직접 관리

### 문제점 2

Redux 스토어의 상태를 변경하는 작업을 수행하는 컴포넌트에서 지나치게 많은 정보를 알고 있어야 하는 문제 발생

#### 원인

- Redux 스토어의 정보는 다수의 컴포넌트에서 참조하고 있기 때문에 항상 모든 컴포넌트에서 사용 가능한 완전한 상태를 유지해야 함
- 해당 컴포넌트에서는 사용하지 않는 정보이지만 데이터를 완전한 상태로 유지하기 위해 보관했다가 업데이트할 때 그대로 사용함

#### 개선 방법

- 각 컴포넌트가 자신이 다루는 데이터를 책임지고 관리하도록 설계를 변경
- 다른 컴포넌트에 데이터를 전달해야 하는 경우 RxJS의 옵저버블과 같은 스트림 객체를 사용
